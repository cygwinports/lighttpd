diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/lighttpd-1.4.18/src/Makefile.am src/lighttpd-1.4.18/src/Makefile.am
--- origsrc/lighttpd-1.4.18/src/Makefile.am	2007-09-02 17:23:53.000000000 -0500
+++ src/lighttpd-1.4.18/src/Makefile.am	2007-11-21 21:50:24.243625000 -0600
@@ -16,8 +16,8 @@
 configparser.c configparser.h:
 mod_ssi_exprparser.c mod_ssi_exprparser.h:
 else
-configparser.y: lemon
-mod_ssi_exprparser.y: lemon
+configparser.y: lemon$(EXEEXT)
+mod_ssi_exprparser.y: lemon$(EXEEXT)
 
 configparser.c configparser.h: configparser.y
 	rm -f configparser.h
@@ -56,6 +56,7 @@
 spawn_fcgi_SOURCES=spawn-fcgi.c
 
 lib_LTLIBRARIES =
+pkglib_LTLIBRARIES =
 
 if NO_RDYNAMIC
 # if the linker doesn't allow referencing symbols of the binary
@@ -72,171 +73,171 @@
 common_libadd =
 endif
 
-lib_LTLIBRARIES += mod_flv_streaming.la
+pkglib_LTLIBRARIES += mod_flv_streaming.la
 mod_flv_streaming_la_SOURCES = mod_flv_streaming.c
 mod_flv_streaming_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_flv_streaming_la_LIBADD = $(common_libadd)
 
-lib_LTLIBRARIES += mod_evasive.la
+pkglib_LTLIBRARIES += mod_evasive.la
 mod_evasive_la_SOURCES = mod_evasive.c
 mod_evasive_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_evasive_la_LIBADD = $(common_libadd)
 
-lib_LTLIBRARIES += mod_webdav.la
+pkglib_LTLIBRARIES += mod_webdav.la
 mod_webdav_la_SOURCES = mod_webdav.c
 mod_webdav_la_CFLAGS = $(AM_CFLAGS) $(XML_CFLAGS) $(SQLITE_CFLAGS) 
 mod_webdav_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_webdav_la_LIBADD = $(common_libadd) $(XML_LIBS) $(SQLITE_LIBS) $(UUID_LIBS)
 
-lib_LTLIBRARIES += mod_magnet.la
+pkglib_LTLIBRARIES += mod_magnet.la
 mod_magnet_la_SOURCES = mod_magnet.c mod_magnet_cache.c
 mod_magnet_la_CFLAGS = $(AM_CFLAGS) $(LUA_CFLAGS)
 mod_magnet_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_magnet_la_LIBADD = $(common_libadd) $(LUA_LIBS) -lm
 
-lib_LTLIBRARIES += mod_cml.la
+pkglib_LTLIBRARIES += mod_cml.la
 mod_cml_la_SOURCES = mod_cml.c mod_cml_lua.c mod_cml_funcs.c
 mod_cml_la_CFLAGS = $(AM_CFLAGS) $(LUA_CFLAGS)
 mod_cml_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_cml_la_LIBADD = $(MEMCACHE_LIB) $(common_libadd) $(LUA_LIBS) -lm
 
-lib_LTLIBRARIES += mod_trigger_b4_dl.la
+pkglib_LTLIBRARIES += mod_trigger_b4_dl.la
 mod_trigger_b4_dl_la_SOURCES = mod_trigger_b4_dl.c
 mod_trigger_b4_dl_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_trigger_b4_dl_la_LIBADD = $(GDBM_LIB) $(MEMCACHE_LIB) $(PCRE_LIB) $(common_libadd)
 
-lib_LTLIBRARIES += mod_mysql_vhost.la
+pkglib_LTLIBRARIES += mod_mysql_vhost.la
 mod_mysql_vhost_la_SOURCES = mod_mysql_vhost.c
 mod_mysql_vhost_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_mysql_vhost_la_LIBADD = $(MYSQL_LIBS) $(common_libadd)
 mod_mysql_vhost_la_CPPFLAGS = $(MYSQL_INCLUDE)
 
-lib_LTLIBRARIES += mod_cgi.la
+pkglib_LTLIBRARIES += mod_cgi.la
 mod_cgi_la_SOURCES = mod_cgi.c
 mod_cgi_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_cgi_la_LIBADD = $(common_libadd)
 
-lib_LTLIBRARIES += mod_scgi.la
+pkglib_LTLIBRARIES += mod_scgi.la
 mod_scgi_la_SOURCES = mod_scgi.c
 mod_scgi_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_scgi_la_LIBADD = $(common_libadd)
 
-lib_LTLIBRARIES += mod_staticfile.la
+pkglib_LTLIBRARIES += mod_staticfile.la
 mod_staticfile_la_SOURCES = mod_staticfile.c
 mod_staticfile_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_staticfile_la_LIBADD = $(common_libadd)
 
-lib_LTLIBRARIES += mod_dirlisting.la
+pkglib_LTLIBRARIES += mod_dirlisting.la
 mod_dirlisting_la_SOURCES = mod_dirlisting.c
 mod_dirlisting_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_dirlisting_la_LIBADD = $(common_libadd) $(PCRE_LIB)
 
-lib_LTLIBRARIES += mod_indexfile.la
+pkglib_LTLIBRARIES += mod_indexfile.la
 mod_indexfile_la_SOURCES = mod_indexfile.c
 mod_indexfile_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_indexfile_la_LIBADD = $(common_libadd)
 
-lib_LTLIBRARIES += mod_setenv.la
+pkglib_LTLIBRARIES += mod_setenv.la
 mod_setenv_la_SOURCES = mod_setenv.c
 mod_setenv_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_setenv_la_LIBADD = $(common_libadd)
 
-lib_LTLIBRARIES += mod_alias.la
+pkglib_LTLIBRARIES += mod_alias.la
 mod_alias_la_SOURCES = mod_alias.c
 mod_alias_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_alias_la_LIBADD = $(common_libadd)
 
-lib_LTLIBRARIES += mod_userdir.la
+pkglib_LTLIBRARIES += mod_userdir.la
 mod_userdir_la_SOURCES = mod_userdir.c
 mod_userdir_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_userdir_la_LIBADD = $(common_libadd)
 
-lib_LTLIBRARIES += mod_rrdtool.la
+pkglib_LTLIBRARIES += mod_rrdtool.la
 mod_rrdtool_la_SOURCES = mod_rrdtool.c
 mod_rrdtool_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_rrdtool_la_LIBADD = $(common_libadd)
 
-lib_LTLIBRARIES += mod_usertrack.la
+pkglib_LTLIBRARIES += mod_usertrack.la
 mod_usertrack_la_SOURCES = mod_usertrack.c
 mod_usertrack_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_usertrack_la_LIBADD = $(common_libadd)
 
-lib_LTLIBRARIES += mod_proxy.la
+pkglib_LTLIBRARIES += mod_proxy.la
 mod_proxy_la_SOURCES = mod_proxy.c
 mod_proxy_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_proxy_la_LIBADD = $(common_libadd)
 
-lib_LTLIBRARIES += mod_ssi.la
+pkglib_LTLIBRARIES += mod_ssi.la
 mod_ssi_la_SOURCES = mod_ssi_exprparser.c mod_ssi_expr.c mod_ssi.c
 mod_ssi_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_ssi_la_LIBADD = $(common_libadd) $(PCRE_LIB)
 
-lib_LTLIBRARIES += mod_secdownload.la
+pkglib_LTLIBRARIES += mod_secdownload.la
 mod_secdownload_la_SOURCES = mod_secure_download.c
 mod_secdownload_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_secdownload_la_LIBADD = $(common_libadd)
 
-#lib_LTLIBRARIES += mod_httptls.la
+#pkglib_LTLIBRARIES += mod_httptls.la
 #mod_httptls_la_SOURCES = mod_httptls.c
 #mod_httptls_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 #mod_httptls_la_LIBADD = $(common_libadd)
 
-lib_LTLIBRARIES += mod_expire.la
+pkglib_LTLIBRARIES += mod_expire.la
 mod_expire_la_SOURCES = mod_expire.c
 mod_expire_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_expire_la_LIBADD = $(common_libadd)
 
-lib_LTLIBRARIES += mod_evhost.la
+pkglib_LTLIBRARIES += mod_evhost.la
 mod_evhost_la_SOURCES = mod_evhost.c
 mod_evhost_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_evhost_la_LIBADD = $(common_libadd)
 
-lib_LTLIBRARIES += mod_simple_vhost.la
+pkglib_LTLIBRARIES += mod_simple_vhost.la
 mod_simple_vhost_la_SOURCES = mod_simple_vhost.c
 mod_simple_vhost_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_simple_vhost_la_LIBADD = $(common_libadd)
 
-lib_LTLIBRARIES += mod_fastcgi.la
+pkglib_LTLIBRARIES += mod_fastcgi.la
 mod_fastcgi_la_SOURCES = mod_fastcgi.c
 mod_fastcgi_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_fastcgi_la_LIBADD = $(common_libadd)
 
-lib_LTLIBRARIES += mod_extforward.la
+pkglib_LTLIBRARIES += mod_extforward.la
 mod_extforward_la_SOURCES = mod_extforward.c
 mod_extforward_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_extforward_la_LIBADD = $(common_libadd)
 
-lib_LTLIBRARIES += mod_access.la
+pkglib_LTLIBRARIES += mod_access.la
 mod_access_la_SOURCES = mod_access.c
 mod_access_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_access_la_LIBADD = $(common_libadd)
 
-lib_LTLIBRARIES += mod_compress.la
+pkglib_LTLIBRARIES += mod_compress.la
 mod_compress_la_SOURCES = mod_compress.c
 mod_compress_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_compress_la_LIBADD = $(Z_LIB) $(BZ_LIB) $(common_libadd)
 
-lib_LTLIBRARIES += mod_auth.la
+pkglib_LTLIBRARIES += mod_auth.la
 mod_auth_la_SOURCES = mod_auth.c http_auth_digest.c http_auth.c
 mod_auth_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_auth_la_LIBADD = $(CRYPT_LIB) $(LDAP_LIB) $(LBER_LIB) $(common_libadd)
 
-lib_LTLIBRARIES += mod_rewrite.la
+pkglib_LTLIBRARIES += mod_rewrite.la
 mod_rewrite_la_SOURCES = mod_rewrite.c
 mod_rewrite_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_rewrite_la_LIBADD = $(PCRE_LIB) $(common_libadd)
 
-lib_LTLIBRARIES += mod_redirect.la
+pkglib_LTLIBRARIES += mod_redirect.la
 mod_redirect_la_SOURCES = mod_redirect.c
 mod_redirect_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_redirect_la_LIBADD = $(PCRE_LIB) $(common_libadd)
 
-lib_LTLIBRARIES += mod_status.la
+pkglib_LTLIBRARIES += mod_status.la
 mod_status_la_SOURCES = mod_status.c
 mod_status_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_status_la_LIBADD = $(common_libadd)
 
-lib_LTLIBRARIES += mod_accesslog.la
+pkglib_LTLIBRARIES += mod_accesslog.la
 mod_accesslog_la_SOURCES = mod_accesslog.c
 mod_accesslog_la_LDFLAGS = -module -export-dynamic -avoid-version -no-undefined
 mod_accesslog_la_LIBADD = $(common_libadd)
@@ -256,7 +257,7 @@
       splaytree.h proc_open.h status_counter.h \
       mod_magnet_cache.h
 
-DEFS= @DEFS@ -DLIBRARY_DIR="\"$(libdir)\"" -DSBIN_DIR="\"$(sbindir)\""
+DEFS= @DEFS@ -DLIBRARY_DIR="\"$(pkglibdir)\"" -DSBIN_DIR="\"$(sbindir)\""
 
 lighttpd_SOURCES = $(src)
 lighttpd_LDADD = $(PCRE_LIB) $(DL_LIB) $(SENDFILE_LIB) $(ATTR_LIB) $(common_libadd) $(SSL_LIB) $(FAM_LIBS)
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/lighttpd-1.4.18/src/mod_extforward.c src/lighttpd-1.4.18/src/mod_extforward.c
--- origsrc/lighttpd-1.4.18/src/mod_extforward.c	2007-08-18 04:43:35.000000000 -0500
+++ src/lighttpd-1.4.18/src/mod_extforward.c	2007-11-21 21:38:05.134250000 -0600
@@ -269,6 +269,7 @@
 	return (data_string *)array_get_element(p->conf.forwarder,ipstr) ? IP_TRUSTED : IP_UNTRUSTED ;
 }
 
+#ifdef HAVE_IPV6
 struct addrinfo *ipstr_to_sockaddr(const char *host)
 {
    struct addrinfo hints, *res0;
@@ -301,6 +302,7 @@
 
    return res0;
 }
+#endif /* HAVE_IPV6 */
 
 
 
@@ -380,7 +382,9 @@
 	if (real_remote_addr != NULL) { /* parsed */
 		sock_addr sock;
 
+#ifdef HAVE_IPV6
 		struct addrinfo *addrs_left;
+#endif
 
 		if (con->conf.log_request_handling) {
  			log_error_write(srv, __FILE__, __LINE__, "ss",
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/lighttpd-1.4.18/src/mod_webdav.c src/lighttpd-1.4.18/src/mod_webdav.c
--- origsrc/lighttpd-1.4.18/src/mod_webdav.c	2007-07-17 13:02:33.000000000 -0500
+++ src/lighttpd-1.4.18/src/mod_webdav.c	2007-11-21 21:41:20.212375000 -0600
@@ -23,7 +23,7 @@
 #include <sqlite3.h>
 #endif
 
-#if defined(HAVE_LIBXML_H) && defined(HAVE_SQLITE3_H) && defined(HAVE_UUID_UUID_H)
+#if defined(HAVE_LIBXML_H) && defined(HAVE_SQLITE3_H) && defined(HAVE_UUID)
 #define USE_LOCKS
 #include <uuid/uuid.h>
 #endif
